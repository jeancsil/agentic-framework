# Docker Quick Reference

## Essential Commands

```bash
# Build image (first time or after dependency changes)
make docker-build

# Run the chef agent
make docker-chef INPUT="I have bread, tuna, lettuce and mayo"

# Run any agent
make docker-run CMD="list"
make docker-run CMD="simple -i 'your question'"
make docker-run CMD="travel -i 'Plan a trip to Paris'"

# View logs
tail -f agentic-framework/logs/agent.log

# Run tests
make docker-test

# Interactive shell
make docker-shell

# Clean up
make docker-clean
```

## When to Rebuild?

✅ **NO rebuild needed:**
- Changing Python code in `src/` or `tests/`
- Modifying `.env` variables
- Viewing/editing logs

⚠️ **Rebuild required:**
- Adding/removing dependencies in `pyproject.toml`
- Updating `uv.lock`
- Changing `Dockerfile`

## File Locations

| What | Where (Host) | Where (Container) |
|------|--------------|-------------------|
| Source Code | `agentic-framework/src/` | `/app/agentic-framework/src/` |
| Tests | `agentic-framework/tests/` | `/app/agentic-framework/tests/` |
| Logs | `agentic-framework/logs/` | `/app/agentic-framework/logs/` |
| Config | `.env` | Loaded as env vars |

## Troubleshooting

**Logs not appearing?**
```bash
# Check log file exists
ls -la agentic-framework/logs/
cat agentic-framework/logs/agent.log
```

**Environment variables not working?**
```bash
# Verify .env file
cat .env

# Check loaded vars
docker compose config | grep -A 20 environment
```

**Code changes not reflected?**
```bash
# Verify volumes
docker compose config | grep -A 10 volumes
```

**Permission issues?**
```bash
chmod -R 755 agentic-framework/logs
```
